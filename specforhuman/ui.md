# UI 仕様書（Branch: MVP 版）

本ドキュメントでは Branch プロダクトのユーザーインターフェース仕様を定義します。  
画面構成、各画面の主要コンポーネント、ユーザー操作の挙動を記載します。

---

## 🧭 全体構成

Branch は以下の画面で構成されます：

| 画面名           | パス          | 概要                               |
| ---------------- | ------------- | ---------------------------------- |
| ログイン画面     | `/login`      | Google OAuth でログイン            |
| チャット一覧画面 | `/chats`      | 全てのチャット（ツリー）を一覧表示 |
| チャット詳細画面 | `/chats/[id]` | ブランチ構造を含むチャット表示     |
| 設定画面         | `/settings`   | モデル選択やプラン情報確認         |

---

## ✨ 1. ログイン画面（`/login`）

### 主な要素

-   Google 認証ボタン
-   ロゴ＆キャッチコピー（例："Grow Your Ideas as You Chat"）

---

## 💬 2. チャット一覧画面（`/chats`）

### 主な要素

-   ヘッダー（ログアウトボタン / ユーザ名表示）
-   「新しいチャットを始める」ボタン
-   チャットリスト（以下の情報を含む）
    -   タイトル
    -   作成日時
    -   チャットの最新更新日時

### 挙動

-   チャット項目をクリック → `/chats/[id]` に遷移

---

## 🌳 3. チャット詳細画面（`/chats/[id]`）

### 主な要素

| 要素               | 説明                                                               |
| ------------------ | ------------------------------------------------------------------ |
| チャット表示       | 縦方向のチャット UI + 横方向のブランチ表示                         |
| ミニマップ         | 右上に配置。ブランチ構造全体の概要を表示し、クリックでジャンプ可能 |
| 入力フォーム       | メッセージ入力欄＋送信ボタン                                       |
| モデルセレクタ     | （後日実装予定）AI モデルの選択 UI                                 |
| ブランチ作成ボタン | 各メッセージに「ブランチを作成」オプション                         |

### 挙動詳細

-   メッセージ送信後、数秒内にストリーム応答が返る
-   ブランチ元のメッセージには接続線が視覚的に表示される
-   メッセージ折りたたみ時はタイトルのみ表示
-   ミニマップ内セルにホバー時、該当位置をハイライト

---

## ⚙️ 4. 設定画面（`/settings`）

### 主な要素

-   モデル選択（GPT-4o-mini / Claude / Gemini）
-   プラン表示（Free / Pro）
-   使⽤状況（今日の送信回数など）

### 予定機能

-   Stripe 連携によるプラン変更（MVP 後に実装）

---

## 🔁 共通コンポーネント

| コンポーネント名 | 概要                                   |
| ---------------- | -------------------------------------- |
| ChatBubble       | ユーザー/AI ごとの吹き出し UI          |
| BranchLine       | ブランチ間の接続線（SVG）              |
| MiniMap          | スクロール・移動可能なミニ地図表示     |
| Header           | ヘッダー（ユーザー名・設定ボタン etc） |

---

## 🧪 MVP 時のコンポーネント・フロー確認課題

-   [ ] ブランチ生成後の遷移挙動の自然さ
-   [ ] ミニマップと実際の位置が合っているか
-   [ ] モデル変更 UI はどこに置くか（チャット画面内？設定画面？）

---

以上。
