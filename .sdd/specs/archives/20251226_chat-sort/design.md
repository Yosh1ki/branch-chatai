# 技術設計書

## アーキテクチャ概要
Next.js App Routerのchats画面に、既存のReactクライアントコンポーネントを拡張して並び順セレクトを追加する。並び順はUI状態として保持し、既存のチャット一覧データを選択値に応じて表示順のみ切り替える。

## 主要コンポーネント
### コンポーネント1：ChatSortSelect（仮）
- 責務：並び順の選択（新しい順/古い順）を提供するUI
- 入力：現在の並び順、変更ハンドラ
- 出力：選択した並び順の通知
- 依存関係：chats画面のレイアウト/ヘッダー要素

### コンポーネント2：ChatList（既存）
- 責務：チャットカード一覧の描画
- 入力：チャット一覧データ、並び順
- 出力：並び替え後のチャットカード表示
- 依存関係：チャットカードコンポーネント、状態管理（必要に応じて）

## データモデル
### Chat（既存）
- id：string、チャット識別子
- createdAt：datetime、作成日時
- title：string、チャットタイトル
（並び替えは既存のフィールドを利用し、新規追加は不要）

## 処理フロー
1. chats画面のヘッダーで「最近のチャット」の右側に並び順セレクトを表示する。
2. ユーザーが「新しい順」または「古い順」を選択する。
3. 選択値に応じてチャット一覧の並び替えを行い、表示を更新する。

## エラーハンドリング
- チャット一覧が空の場合：セレクトは表示しつつ、一覧は空状態のままにする。
- 並び替え対象の日時が欠損している場合：欠損データは末尾に配置する。

## 既存コードとの統合
- 変更が必要なファイル：
  - `src/app/` 配下のchats一覧画面：ヘッダーへのセレクト追加と並び順状態の保持
  - `src/components/` 配下のチャット一覧/カード表示：並び順適用ロジックの追加
- 新規作成ファイル：
  - `src/components/` 配下の並び順セレクトコンポーネント（必要なら）
