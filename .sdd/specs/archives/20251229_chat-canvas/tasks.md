# 実装タスクリスト

## セクション1：データモデル実装
- [x] 1.1 キャンバス状態の型とユーティリティを作成する
  - `CanvasState`の型定義
  - `scale`と`offset`のクランプ処理
- [x] 1.2 データ永続化層を実装する
  - 永続化は行わないため、不要であることを確認する

## セクション2：ビジネスロジック実装
- [x] 2.1 CanvasViewportのコア処理を実装する
  - ポインタードラッグによるパン操作
  - ホイール/ピンチによるズーム操作
- [x] 2.2 CanvasControlsの処理を実装する
  - 現在倍率の表示
  - リセット操作の実装
- [x] 2.3 エラーハンドリングを実装する
  - 入力イベント失敗時の安全なフォールバック
  - 変換値を範囲内にクランプする処理

## セクション3：インターフェース実装
- [x] 3.1 UIコンポーネントを作成する
  - `CanvasViewport`と`CanvasControls`
- [x] 3.2 入力バリデーションを実装する
  - 最小/最大倍率の制約
  - パン範囲の制約
- [x] 3.3 出力フォーマットを実装する
  - ズーム倍率ラベルの表示
  - リセットボタンの表示

## セクション4：統合とテスト
- [x] 4.1 コンポーネントを統合する
  - `src/app/chats/[chatId]/page.tsx`で既存UIを包み込む
- [x] 4.2 基本的な動作テストを実装する
  - ユニットテストでクランプとリセットを確認する
  - 基本的なパン/ズーム処理を検証する
- [x] 4.3 要件の受入基準を満たすことを確認する
  - 既存UIが壊れず、パン/ズーム/リセットが動作することを確認する
