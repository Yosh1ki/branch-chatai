# 実装タスクリスト

## セクション1：データモデル実装
- [x] 1.1 UI状態型を定義する
  - `selectedBranch`と`isMenuOpen`の型を整理する
  - 画面内の状態管理に使うインターフェースを用意する
- [x] 1.2 永続化は行わない方針を明示する
  - データベース/ストレージ連携は不要であることを確認する

## セクション2：ビジネスロジック実装
- [x] 2.1 ChatPageの描画ロジックを実装する
  - 背景、ヘッダー、中央カラムのレイアウトを構成する
- [x] 2.2 UserBubbleとAssistantCardの操作を実装する
  - クリップボードコピー処理
  - ellipsisメニューの表示切り替え
- [x] 2.3 エラーハンドリングを実装する
  - クリップボードAPI失敗時にUIを崩さない処理を追加する

## セクション3：インターフェース実装
- [x] 3.1 UIコンポーネントを作成する
  - ChatHeader、UserBubble、AssistantCard、BranchSelector
- [x] 3.2 入力バリデーションを実装する
  - UI状態の初期値を明示して不正値を防ぐ
- [x] 3.3 出力フォーマットを実装する
  - カード本文、メニュー項目、ラベル文言を配置する

## セクション4：統合とテスト
- [x] 4.1 コンポーネントを統合する
  - `src/app/chats/[chatId]/page.tsx`に各部品を接続する
- [x] 4.2 基本的な動作テストを実装する
  - クリックで選択状態が切り替わることを確認する
  - クリップボードコピーが呼ばれることを確認する
- [x] 4.3 要件の受入基準を満たすことを確認する
  - UI配置、線/ピル/カードの表示が要件通りであることを確認する
