# 要件定義書

## 機能概要
chat/[id] 画面のUIを作成し、ユーザー発話バブル、assistant回答カード、ブランチ選択UIを配置する。

## ユーザーストーリー
- ユーザーとして、chat/[id] 画面で会話の流れとブランチ選択UIを視覚的に確認したい。なぜなら、会話の構造を整理して把握したいから。

## 機能要件
### 要件1：chat/[id] 画面の基本レイアウト
- 背景はほぼ白〜薄いグレーの温かいトーンとする。
- 画面上部にヘッダー（左ロゴ、右ドロップダウン）を配置する。
- 画面中央に会話カード（assistantの回答カード）を配置する。
- 受入基準：
  - [ ] 背景色がほぼ白〜薄いグレーのトーンであること
  - [ ] ヘッダーに左ロゴと右ドロップダウンが表示されること
  - [ ] 会話カードが画面中央に配置されること

### 要件2：ユーザー発話バブルと縦ライン
- 画面中央上部に小さめの角丸吹き出しを配置し、固定文言を表示する。
- 吹き出し右下付近にコピーアイコンを配置し、クリックで文言をクリップボードへコピーできる。
- 吹き出し下端から回答カード上端へ細い縦線を描画する（色は薄いグレー）。
- 受入基準：
  - [ ] 吹き出しが画面中央上部に配置されること
  - [ ] コピーアイコンをクリックすると文言がコピーされること
  - [ ] 吹き出しと回答カードの間に薄い縦線が表示されること

### 要件3：assistant回答カード
- 大きめの角丸カード（白背景、薄い影、極薄の枠線）を表示する。
- カード内に導入文と1〜3の番号付きセクション（太字見出し＋箇条書き）を配置する。
- カード左下に「ChatGPT 5.2」を表示する。
- カード右下にellipsisとコピーアイコンを配置する。
- ellipsisを押すと簡易メニュー（再生成/共有/削除のダミー）を右上方向に小さく表示する。
- コピーアイコンでカード本文をクリップボードへコピーできる。
- 受入基準：
  - [ ] カードのスタイルが指定通り（白背景、薄い影、極薄枠線、角丸）であること
  - [ ] 番号付きセクションと太字見出し、箇条書きが表示されること
  - [ ] 「ChatGPT 5.2」とアイコン群が指定位置に表示されること
  - [ ] ellipsisクリックで簡易メニューが表示されること
  - [ ] コピーアイコンでカード本文がコピーされること

### 要件4：ブランチUI
- 回答カード下中央に小さな丸（濃いブラウン）を表示する。
- 小さな丸から点線で「メインブランチ」ピルへ接続する。
- 中央の「メインブランチ」ピルと左右の「新しいブランチ」ピルを同一高さで配置する。
- 左右のピルの横に未選択の薄い丸を配置する。
- 中央から左右へ伸びる薄いガイド線を表示する。
- クリックで選択状態が切り替わり、選択された丸が濃くなる（初期は中央選択）。
- 受入基準：
  - [ ] 中央のブランチポイントと点線が表示されること
  - [ ] メイン/新しいブランチのピルが同一高さに配置されること
  - [ ] ガイド線が表示されること
  - [ ] クリックで選択状態が切り替わること

## 非機能要件
- パフォーマンス：静的UIとして軽快に描画されること
- セキュリティ：クリップボードコピーはブラウザ標準APIの範囲で行うこと
